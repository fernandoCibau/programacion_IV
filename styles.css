/* ============  Base  ============ */
:root{
  --bg: #0b0f12;
  --bg-soft: #12161b;
  --card: #161c22;
  --text: #e9eef3;
  --muted: #9ab6c0;
  --accent: #00e5ff;
  --accent-2: #66ffb2;
  --danger: #ff5c7a;
  --shadow: 0 10px 30px rgba(0,0,0,.4);
  --radius: 16px;
  --maxw: 1100px;
}

:root.light{
  --bg: #f7fafc;
  --bg-soft: #eef3f7;
  --card: #ffffff;
  --text: #0b0f12;
  --muted: #45606a;
  --accent: #0066ff;
  --accent-2: #0bab7c;
  --danger: #d11a3a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Inter", "Helvetica Neue", Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(0,229,255,.05), transparent 60%),
    radial-gradient(1200px 600px at 110% 10%, rgba(102,255,178,.06), transparent 60%),
    var(--bg);
  overflow-x: hidden;
}

a{color:var(--accent); text-decoration:none}
a:hover{text-decoration:underline}

.container{max-width:var(--maxw); margin-inline:auto; padding:0 20px}
.section{padding:64px 0}
.section-head h2{margin:0 0 8px; font-size: clamp(1.4rem, 1.1rem + 1.2vw, 2rem)}
.section-head p{margin:0 0 20px; color:var(--muted)}

/* Separador entre secciones */
.section:not(:last-of-type)::after {
  content: '';
  display: block;
  width: 100%;
  height: 40px;
  margin-top: 64px;
  background-image:
    linear-gradient(var(--accent), var(--accent)),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%2300e5ff' d='M256 32c-4.3 0-8.6.3-12.8.9C138.7 40.7 48.9 130.5 40 235.2c-.3 4.2-.5 8.5-.5 12.8c0 4.3.2 8.6.5 12.8c8.9 104.7 98.7 194.5 203.2 202.3c4.2.3 8.5.5 12.8.5s8.6-.2 12.8-.5c104.5-7.8 194.3-97.6 203.2-202.3c.3-4.2.5-8.5.5-12.8s-.2-8.6-.5-12.8C463.1 130.5 373.3 40.7 268.8 32.9c-4.2-.6-8.5-.9-12.8-.9zm-12.8 48.5c100.4 7.5 178.2 85.3 185.7 185.7c.2 4.2.4 8.5.4 12.8s-.1 8.6-.4 12.8c-7.5 100.4-85.3 178.2-185.7 185.7c-4.2.2-8.5.4-12.8.4s-8.6-.1-12.8-.4C116.8 470.7 39 392.9 31.5 292.5c-.2-4.2-.4-8.5-.4-12.8s.1-8.6.4-12.8c7.5-100.4 85.3-178.2 185.7-185.7c4.2-.2 8.5-.4 12.8-.4s8.6.1 12.8.4zM256 96c-88.4 0-160 71.6-160 160s71.6 160 160 160s160-71.6 160-160s-71.6-160-160-160z'/%3E%3C/svg%3E"),
    linear-gradient(var(--accent), var(--accent));
  background-repeat: no-repeat;
  background-position: left center, center, right center;
  background-size: calc(50% - 32px) 1px, 32px, calc(50% - 32px) 1px;
  opacity: 0.2;
}

.btn{
  display:inline-flex; align-items:center; gap:.5rem;
  border:1px solid color-mix(in srgb, var(--accent) 50%, transparent);
  background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 14%, transparent), transparent);
  color:var(--text);
  padding:.65rem 1rem; border-radius:999px; cursor:pointer;
  transition: transform .15s ease, border-color .2s ease;
  box-shadow: var(--shadow);
}
.btn:hover{ transform: translateY(-1px); }
.btn.primary{ background: linear-gradient(180deg, var(--accent), var(--accent-2)); color:#001827; border-color:transparent; }
.btn svg {
  width: 1.2em;
  height: 1.2em;
}
.btn.ghost{ background: transparent; }

/* ============  Splash Screen  ============ */
.splash-screen {
  position: fixed;
  inset: 0;
  background: var(--bg);
  display: grid;
  place-items: center;
  z-index: 9999;
  animation: hide-splash 4s forwards 0.5s;
}
.splash-title {
  font-size: clamp(2.5rem, 10vw, 7rem);
  opacity: 0;
  /* Animación combinada: aparece, se mantiene y se abalanza hacia la pantalla al salir */
  animation: title-splash-effect 4s ease-out forwards, glitch 2.5s infinite steps(2) 1s;
}
@keyframes hide-splash {
  0%, 75% { opacity: 1; pointer-events: auto; }
  100% { opacity: 0; pointer-events: none; }
}
@keyframes title-splash-effect {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  25% { /* Aparece y se asienta */
    opacity: 1;
    transform: scale(1);
  }
  80% { /* Se mantiene visible */
    opacity: 1;
    transform: scale(1);
  }
  100% { /* Se abalanza y desaparece */
    opacity: 0;
    transform: scale(5);
  }
}

/* ============  Background Ambiance  ============ */
.particles-bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}
.particles-bg::before,
.particles-bg::after {
  content: '';
  position: absolute;
  inset: -200px 0 0 0; /* Top offset to hide particle generation */
  background-repeat: repeat;
  animation: float-particles linear infinite;
}
.particles-bg::before {
  background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 0);
  background-size: 50px 50px;
  animation-duration: 25s;
}
.particles-bg::after {
  background-image: radial-gradient(circle, rgba(255,255,255,0.07) 1px, transparent 0);
  background-size: 150px 150px;
  animation-duration: 45s;
}
@keyframes float-particles {
  from { transform: translateY(0); }
  to { transform: translateY(-200px); }
}

/* ============ Spore Animation ============ */
.spore-container {
  position: absolute; /* Cambiado de fixed a absolute */
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}
.spore {
  position: absolute; /* Se posicionará relativo al spore-container */
  background: var(--accent); /* Color de la espora */
  border-radius: 50%;
  animation: float-spores linear infinite;
  box-shadow: 0 0 8px 1px color-mix(in srgb, var(--accent) 50%, transparent);
  will-change: transform;
}

@keyframes float-spores {
  to {
    transform: translateY(-200px); /* Animación de subida más corta */
    opacity: 0;
  }
}

/* ============  Header & Nav  ============ */
.site-header{
  position: sticky; top:0; z-index:50;
  backdrop-filter: blur(10px);
  background: color-mix(in srgb, var(--bg-soft) 75%, transparent);
  border-bottom: 1px solid rgba(255,255,255,.06);
  transition: transform .3s ease-in-out;
}
.nav-wrap{ display:flex; align-items:center; justify-content:space-between; min-height:64px; }
.brand{ display:flex; align-items:center; gap:.5rem; font-weight:700; font-size:1.1rem }
.brand .brand-logo{ filter: drop-shadow(0 3px 8px rgba(0,229,255,.35)); }
.brand .brand-logo{ animation: glow 4s ease-in-out infinite; }
.brand .brand-text{ text-shadow: 0 1px 4px rgba(0,229,255,.2); }
.brand .muted{ color:var(--muted); font-weight:500; }

.site-header.is-hidden {
  transform: translateY(-100%);
}

.menu ul{ display:flex; gap:.5rem; list-style:none; padding:0; margin:0 }
.menu a, .drop-toggle, .theme-toggle{ padding:.55rem .9rem; border-radius:999px; border:1px solid transparent }
.menu a:hover, .drop-toggle:hover{ background: color-mix(in srgb, var(--accent) 16%, transparent) }
.menu a.is-active {
  background: color-mix(in srgb, var(--accent) 20%, transparent);
  color: var(--text);
  font-weight: 600;
}

.dropdown{ position:relative }
.drop-toggle{ background:transparent; color:var(--text); cursor:pointer; border-color: rgba(255,255,255,.06) }
.drop-panel{
  position:absolute; top: 110%; left:0; min-width: 220px; padding:10px;
  border-radius: 12px; background: var(--card); box-shadow: var(--shadow);
  border:1px solid rgba(255,255,255,.08); display:none; animation: pop .18s ease;
}
.dropdown:focus-within .drop-panel,
.dropdown:hover .drop-panel{ display:block }
.drop-panel a{ display:block; padding:.6rem .8rem; border-radius:8px; }
.drop-panel a:hover{ background: color-mix(in srgb, var(--accent) 10%, transparent) }

@keyframes glow {
  0%, 100% { filter: drop-shadow(0 2px 6px rgba(0,229,255,.25)); }
  50% { filter: drop-shadow(0 3px 10px rgba(0,229,255,.55)); }
}

@keyframes text-shine {
  to {
    background-position: 200% center;
  }
}

@keyframes pop{ from{transform: translateY(-4px); opacity:0} to{transform:none;opacity:1} }

.hamburger{ display:none; background:none; border:0; padding:.4rem .3rem; cursor:pointer }
.hamburger span{ display:block; width:26px; height:2px; background:var(--text); margin:6px 0; transition: .2s }
.hamburger[aria-expanded="true"] span:nth-child(1){ transform: translateY(8px) rotate(45deg) }
.hamburger[aria-expanded="true"] span:nth-child(2){ opacity:0 }
.hamburger[aria-expanded="true"] span:nth-child(3){ transform: translateY(-8px) rotate(-45deg) }

@media (max-width: 880px){
  .hamburger{ display:block }
  .menu{ position:fixed; inset:64px 0 auto 0; background:var(--bg-soft); display:none; }
  .menu.open{ display:block }
  .menu ul{ flex-direction:column; padding:16px }
  .dropdown .drop-panel{ position:static; display:block; background:transparent; box-shadow:none; border:0; padding:0 0 0 10px }
.drop-toggle { display: none; } /* Ocultar toggles en móvil, ya que no se usarán */
}

/* ============  Hero  ============ */
.hero { min-height: calc(100vh - 64px); display: grid; align-items: center; }
.hero{ position:relative; 
  padding: 88px 0 64px;
  background-image: url("https://beam-images.warnermediacdn.com/2025-03/the-last-of-us-s2-hero-desktop.jpg?host=wbd-dotcom-drupal-prd-us-east-1.s3.amazonaws.com&w=3000");
  background-position: center;
  background-size: cover;
  background-attachment: fixed;
 }
.hero-inner{ text-align:center }
.lead{ color:var(--muted) }
.hero-decor{
  position:absolute; inset: -10% -10% auto -10%;
  background:
    radial-gradient(400px 200px at 20% 20%, rgba(0,229,255,.12), transparent 70%),
    radial-gradient(300px 120px at 75% 30%, rgba(102,255,178,.10), transparent 70%);
  pointer-events:none;
  filter: blur(20px);
}

.glitch{ position:relative; display:inline-block; font-size:clamp(2rem, 1.6rem + 3vw, 4rem); letter-spacing:.02em; }
.glitch::before, .glitch::after{
  content: attr(data-text); position:absolute; inset:0; pointer-events:none;
}
.glitch::before{ transform: translate(2px,0); clip-path: inset(0 0 50% 0); color:#00eaff; opacity:.6 }
.glitch::after{ transform: translate(-2px,0); clip-path: inset(50% 0 0 0); color:#66ffb2; opacity:.5 }
/* Aplicar la animación solo al glitch del hero para no interferir con el splash screen */
.hero .glitch { animation: glitch 2.5s infinite steps(2); }

@keyframes glitch{
  0%{ text-shadow: 0 0 transparent }
  10%{ text-shadow: 2px 0 #00eaff, -2px 0 #66ffb2 }
  13%{ text-shadow: -2px 0 #00eaff, 2px 0 #66ffb2 }
  16%{ text-shadow: 0 0 transparent }
}

@keyframes ken-burns-effect {
  0% { transform: scale(1.05) translate(1%, -1%); }
  100% { transform: scale(1.2) translate(-2%, 2%); }
}

/* ============  Carousel  ============ */
.carousel{ position:relative; border-radius:var(--radius); overflow:hidden; background:var(--card); border:1px solid rgba(255,255,255,.06) }
.carousel-track{ display:grid }
.slide{
  grid-area: 1 / 1;
  position: relative;
  aspect-ratio: 2 / 1;
  display: grid; place-items: center;
  opacity: 0;
  transition: opacity .8s ease-in-out;
  pointer-events: none;
  overflow: hidden; /* Para contener la imagen escalada */
}
.slide.is-active {
  opacity: 1;
  pointer-events: auto;
}
.slide.is-active img {
  animation: ken-burns-effect 8s ease-in-out infinite alternate;
}
.slide img{
  width:100%; height:100%; object-fit:cover; object-position: center; display:block;
  filter: contrast(1.05) saturate(1.05);
}
.slide .caption{
  position:absolute; inset:auto 0 0 0; padding:16px 20px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.65));
  color:#fff; font-weight:600; text-shadow: 0 2px 8px rgba(0,0,0,.6);
  z-index: 3;
}

.car-btn{
  position:absolute; top:50%; transform: translateY(-50%);
  width:42px; height:42px; border-radius:50%;
  background: color-mix(in srgb, var(--bg) 40%, rgba(0,0,0,.6));
  border:1px solid rgba(255,255,255,.2); color:#fff; cursor:pointer;
}
.car-btn:hover{ background: color-mix(in srgb, var(--accent) 20%, rgba(0,0,0,.2)) }
.car-btn.prev{ left:12px } .car-btn.next{ right:12px }
.car-dots{ position:absolute; inset:auto 0 10px 0; display:flex; justify-content:center; gap:8px }
.car-dots button{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.45); border:0; cursor:pointer }
.car-dots button[aria-selected="true"]{ background:#fff; transform: scale(1.2) }

/* ============  Accordion / Seasons  ============ */
.toolbar{ display:flex; gap:12px; align-items:center; margin:10px 0 18px }
.toolbar input, .toolbar select{
  background:var(--card); color:var(--text); border:1px solid rgba(255,255,255,.1);
  border-radius:10px; padding:.55rem .7rem; min-width:200px;
}
.accordion details{
  background: var(--card);
  border:1px solid rgba(255,255,255,.08);
  border-radius: 14px; overflow:hidden; margin: 12px 0;
  box-shadow: var(--shadow);
}
.accordion summary{
  list-style:none; cursor:pointer; padding: 16px 18px; display:flex; align-items:center; justify-content:space-between;
}
.accordion summary::-webkit-details-marker{ display:none }
.accordion summary .ttl{ font-weight:700 }
.accordion summary .meta{ color:var(--muted) }
.accordion details[open] summary{ background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 12%, transparent), transparent); }
.acc-inner{ padding: 12px 18px 18px; animation: drop .2s ease }
@keyframes drop{ from{ transform: translateY(-4px); opacity:0 } to{ transform:none; opacity:1 } }

.episode-item{
  display:grid; grid-template-columns: 56px 1fr auto; gap:12px; align-items:center;
  padding:10px 0; border-bottom:1px dashed rgba(255,255,255,.08);
}
.episode-item:last-child{ border-bottom:0 }
.episode-index{ width:56px; height:56px; display:grid; place-items:center; border-radius:12px; background: color-mix(in srgb, var(--accent) 25%, transparent); font-weight:700 }
.episode-title{ margin:0 }
.badge{ display:inline-block; padding:.2rem .5rem; border-radius:999px; font-size:.75rem; background: rgba(255,255,255,.09) }
.btn.icon{ border-radius:10px; padding:.4rem .6rem }
.btn.star[aria-pressed="true"]{ background: linear-gradient(180deg, #ffd44d, #ffa600); color:#432600 }

/* ============  Episodes Grid  ============ */
.episodes-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:16px;
}
.card{
  background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:14px; overflow:hidden; box-shadow: var(--shadow);
}
.card img{ width:100%; height:140px; object-fit:cover; display:block }
.card .pad{ padding:12px }
.card h3{ margin:6px 0 2px; font-size:1.05rem }
.card p{ margin:0; color:var(--muted); font-size:.92rem }

/* ============  Gallery  ============ */
.gallery-grid{
  display:grid; 
  grid-template-columns: repeat(auto-fill, minmax(250px,1fr)); /* Grilla más flexible */
  gap: 16px;
}
.gallery-grid figure{ 
  margin:0; 
  position:relative; 
  border-radius:12px; 
  overflow:hidden; 
  border:1px solid rgba(255,255,255,.08);
  cursor: pointer;
  /* Animación de entrada escalonada */
  opacity: 0;
  transform: translateY(20px);
  animation: gallery-fade-in .5s ease-out forwards;
  animation-delay: var(--delay, 0s);
}
.gallery-grid img{ width:100%; aspect-ratio: 1 / 1; object-fit:cover; display:block; transition: transform .3s ease; }
.gallery-grid figcaption{
  position:absolute; inset:auto 0 0 0; padding:8px 10px;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.7)); color:#fff; font-size:.85rem;
  transform: translateY(100%);
  transition: transform .3s ease;
}
.gallery-grid figure:hover img{ transform: scale(1.1); }
.gallery-grid figure:hover figcaption{ transform: translateY(0); }

/* Icono de overlay al hacer hover */
.gallery-grid figure::after {
  content: '⤢'; /* Símbolo de expandir */
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-size: 2.5rem;
  color: white;
  background: rgba(0,0,0,0.4);
  opacity: 0;
  transition: opacity .3s ease;
}
.gallery-grid figure:hover::after { opacity: 1; }

@keyframes gallery-fade-in { to { opacity: 1; transform: translateY(0); } }

/* Photo mode */
.photo-mode .gallery-grid img{ filter: grayscale(100%) contrast(1.05) brightness(.9); }

/* ============  Extras  ============ */
.extras-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:16px;
}
.card-link { text-decoration: none; color: var(--text); display: block; transition: transform .2s ease; }
.card-link:hover {
  transform: translateY(-4px);
  text-decoration: none;
}
.card-link.is-disabled {
  cursor: not-allowed;
  opacity: 0.6;
}
.card-link.is-disabled:hover {
  transform: none; /* Remove hover effect */
}
.badge-soon {
  display: inline-block;
  padding: .2rem .6rem;
  font-size: .7rem;
  font-weight: bold;
  color: var(--bg);
  background: var(--accent-2);
  border-radius: 999px;
  vertical-align: middle;
  margin-left: 8px;
}
.extras-grid .card{ padding: 16px; }
.fav-list{ margin-top: 12px; font-size: .9rem; color: var(--muted); }

/* ============  Contact  ============ */
.contact-form{ background:var(--card); padding:18px; border-radius:16px; border:1px solid rgba(255,255,255,.08); box-shadow: var(--shadow) }
.contact-form label{ display:block; margin:10px 0 }
.contact-form input, .contact-form textarea, .contact-form select{
  width:100%; padding:.7rem .8rem; border-radius:10px; border:1px solid rgba(255,255,255,.1);
  background: var(--bg-soft); color:var(--text);
}
.grid-2{ display:grid; gap:12px; grid-template-columns:1fr 1fr }
@media (max-width:700px){ .grid-2{ grid-template-columns: 1fr } }
.check{ display:flex; gap:.6rem; align-items:center }

/* ============  Story Summary Card ============ */
.story-card {
  display: grid;
  grid-template-columns: 1fr 1.5fr; /* Columna para imagen y columna para texto */
  align-items: center;
  gap: 2rem;
  background: var(--card);
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: var(--shadow);
}

.story-card-img {
  height: 100%;
}

.story-card-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform .3s ease;
}

.story-card:hover .story-card-img img {
  transform: scale(1.05);
}

.story-card-content {
  padding: 2rem;
}

.story-card-content .cta-bar {
  margin-top: 1.5rem;
}

@media (max-width: 768px) {
  .story-card {
    grid-template-columns: 1fr; /* Apilar en móvil */
  }
}

.story-details {
  max-width: 800px;
  margin: 0 auto;
  line-height: 1.7;
}
.story-details h3 {
  margin-top: 2rem;
  color: var(--accent);
}

/* ============  Characters Section ============ */
.characters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.char-card {
  background: var(--card);
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}

.char-card-img img {
  width: 100%;
  height: 350px;
  object-fit: cover;
  object-position: top center;
  transition: transform .3s ease;
}

.char-card:hover .char-card-img img {
  transform: scale(1.05);
}

.char-card-content {
  padding: 1.5rem;
  flex-grow: 1;
}

.actor-name {
  display: block;
  color: var(--muted);
  font-size: 0.9rem;
  margin-top: -8px;
  margin-bottom: 1rem;
}

/* ============  Lore Page ============ */
.lore-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}
.lore-card {
  background: var(--card);
  border: 1px solid rgba(255,255,255,.08);
  padding: 1.5rem;
  border-radius: var(--radius);
}
.lore-card h4 { margin-top: 0; color: var(--accent); }
.map-container {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  height: 0;
  overflow: hidden;
  border-radius: var(--radius);
}
.map-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

/* ============  Footer  ============ */
.site-footer{
  padding: 30px 0;
  color: var(--muted);
  border-top: 1px solid rgba(255,255,255,.06);
  font-size: .9rem;
  text-align: center;
}
.footer-inner{
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}
.footer-credits {  
  display: inline-flex;
  align-items: center;
  gap: 0.25em;
}
.footer-credits img {
  vertical-align: middle; /* Alinea la imagen con el texto */
}
@media (max-width: 700px) { 
  .footer-inner { flex-direction: column; justify-content: center; } 
  .footer-credits { justify-content: center; }
}

/* ============  Lightbox  ============ */
.palette[open]{ display:block } /* La paleta de comandos usa display:block */
.lightbox{
  position:fixed; inset:0; background: rgba(0,0,0,.85);
  display:grid; place-items:center; padding: 30px; z-index:100;
  border: 0; /* Reseteamos el borde por defecto del diálogo */
}
.lightbox:not([open]) { display: none; } /* Ocultamos el diálogo cuando no está abierto */
.lightbox img{ max-width:min(95vw, 1200px); max-height:80vh; border-radius: 12px; }
.lightbox-close{
  position:absolute; top:20px; right:20px; width:46px; height:46px; border-radius:50%; border:0;
  background: rgba(255,255,255,.15); color:#fff; font-size:1.6rem; cursor:pointer;
}
.lightbox-nav{ position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding: 0 22px; pointer-events:none }
.lightbox-nav button{ pointer-events:auto; width:58px; height:58px; border-radius:50%; border:0; background: rgba(255,255,255,.15); color:#fff; font-size:1.6rem; cursor:pointer }
.lightbox-caption{ color:#cde; margin-top:8px; text-align:center }

/* ============  Palette  ============ */
.palette{ border:0; background: rgba(0,0,0,.5); padding:0 }
.palette::backdrop{ background: rgba(0,0,0,.4) }
.palette-box{
  background: var(--card); border:1px solid rgba(255,255,255,.1);
  border-radius: 14px; padding: 12px; width: min(680px, 92vw); margin: 12vh auto;
}
.palette-box input{
  width:100%; padding:.8rem 1rem; border-radius: 10px; border:1px solid rgba(255,255,255,.1);
  background: var(--bg-soft); color: var(--text); font-size: 1rem;
}
.palette-results{ margin:10px 0; display:grid; gap:8px }
.palette-results a{ padding:.6rem .8rem; border-radius:10px; background: color-mix(in srgb, var(--accent) 10%, transparent); display:block }
.palette-results a:hover{ background: color-mix(in srgb, var(--accent) 16%, transparent) }

/* ============ Scroll to Top Button ============ */
.scroll-top-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--accent);
  color: var(--bg);
  border: 0;
  font-size: 1.5rem;
  cursor: pointer;
  opacity: 0;
  transform: translateY(100px);
  transition: opacity .3s, transform .3s;
  z-index: 100;
}
.scroll-top-btn.is-visible {
  opacity: 1;
  transform: translateY(0);
}
/* ============  Helpers  ============ */
.reveal{ opacity:0; transform: translateY(10px); transition: .45s }
.reveal.in{ opacity:1; transform:none }

/* ============ Floating Actions ============ */
.floating-actions {
  position: fixed;
  top: 50%;
  left: 16px;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: var(--card);
  padding: 12px 8px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.08);
  z-index: 40;
}
.action-btn {
  position: relative; /* Para el efecto de like */
  background: transparent;
  border: 0;
  color: var(--muted);
  cursor: pointer;
  padding: 8px;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 0.7rem;
  transition: color .2s, background-color .2s;
  overflow: hidden; /* Para contener el efecto */
}
.action-btn:hover {
  color: var(--text);
  background: var(--bg-soft);
}
.action-btn svg {
  width: 24px;
  height: 24px;
}
#likeBtn.liked {
  color: var(--danger);
}

.like-effect {
  position: absolute;
  top: 50%;
  left: 50%;
  font-size: 1rem;
  color: var(--danger);
  pointer-events: none;
  opacity: 0;
  animation: like-pop 0.6s ease-out forwards;
}

@keyframes like-pop {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -150%) scale(2.5);
    opacity: 0;
  }
}

/* Mini Chat */
.mini-chat {
  position: fixed;
  bottom: 20px;
  left: 80px;
  width: 300px;
  background: var(--card);
  border-radius: 12px;
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.1);
  padding: 16px;
  z-index: 90;
  transform: scale(0.95);
  opacity: 0;
  transition: transform .2s ease, opacity .2s ease;
  transform-origin: bottom left;
}
.mini-chat.open {
  transform: scale(1);
  opacity: 1;
}

@media (max-width: 768px) {
  .floating-actions {
    flex-direction: row;
    bottom: 8px;
    left: 50%;
    top: auto;
    transform: translateX(-50%);
    width: auto;
  }
  .mini-chat {
    left: 10px;
    right: 10px;
    bottom: 80px;
    width: auto;
  }
}
